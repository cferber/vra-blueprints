name: CentOS Custom
version: 2
formatVersion: 1
inputs:
  cpu:
    type: integer
    title: CPU
    default: 2
    enum:
      - 1
      - 2
      - 4
  memory:
    type: integer
    title: RAM (MB)
    default: 2048
    enum:
      - 1024
      - 2048
      - 4096
      - 8192
  disk:
    type: integer
    title: Disk Size (GB)
    default: 10
    enum:
      - 10
      - 50
      - 100
  environment:
    type: string
    default: Datacenter Munich
    enum:
      - Datacenter Munich
      - Datacenter Frankfurt
  costcenter:
    type: integer
    default: 80001
    enum:
      - 80001
      - 80002
resources:
  CentOS-VM-01:
    type: Cloud.vSphere.Machine
    properties:
      CreateFileInGuest: true
      CreateITopEntry: true
      imageRef: TEMP-CentOS7-for-vRA/snap-for-vRA-7.6
      cpuCount: '${input.cpu}'
      totalMemoryMB: '${input.memory}'
      attachedDisks:
        - source: '${resource.Cloud_vSphere_Disk_1.id}'
  Cloud_vSphere_Disk_1:
    type: Cloud.vSphere.Disk
    properties:
      capacityGb: '${input.disk}'
