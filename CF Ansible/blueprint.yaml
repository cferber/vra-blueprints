name: CF Ansible
version: 2
formatVersion: 1
inputs: {}
resources:
  Cloud_Ansible_1:
    type: Cloud.Ansible
    metadata:
      layoutPosition:
        - 0
        - 1
    properties:
      host: '${resource.Cloud_Machine_1.*}'
      osType: linux
      account: CF-ANSIBLE01
      username: root
      privateKeyFile: /root/.ssh/id_rsa
      playbooks:
        provision: 
          - /root/playbooks/centos-apps.yml
  Cloud_Machine_1:
    type: Cloud.Machine
    metadata:
      layoutPosition:
        - 1
        - 1
    properties:
      image: CF-CentOS
      flavor: CF-Small
      customizationSpec: vra-linux-custom
      constraints:
        - tag: 'env:on-prem'
